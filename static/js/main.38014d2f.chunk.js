(this["webpackJsonpuse-signal-example"]=this["webpackJsonpuse-signal-example"]||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t);n(9);var a=n(0),c=n.n(a),l=n(7),u=n.n(l),r=n(4),i=n(1),o=n(5);function s(){var e=Object(a.useState)(new o.Signal),t=e[0],n=e[1],c=Object(a.useState)(t.listeners),l=c[0],u=c[1];return{dispatch:Object(a.useCallback)(t.dispatch,[t]),add:Object(a.useCallback)((function(e){t.add(e),n(t),u(t.listeners)}),[t]),remove:Object(a.useCallback)((function(e){t.remove(e),n(t),u(t.listeners)}),[t]),removeAll:Object(a.useCallback)((function(){t.removeAll(),n(t),u(t.listeners)}),[t]),listeners:l}}var d=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],u=Object(a.useState)(0),o=Object(i.a)(u,2),d=o[0],b=o[1],m=s(),p=Object(a.useCallback)((function(e){b((function(t){var n=t+1;return l((function(a){return[].concat(Object(r.a)(a),["dispatched: ".concat(e,", changed :").concat(t," => ").concat(n)])})),t+1}))}),[]);return Object(a.useEffect)((function(){m.add(p)}),[]),c.a.createElement("div",null,c.a.createElement("div",null,d,c.a.createElement("button",{type:"button",onClick:function(){l([]),m.dispatch(d)}},"dispatch")),c.a.createElement("div",null,m.listeners.length,c.a.createElement("button",{type:"button",onClick:function(){console.log("Add"),m.add(p)}},"add")),c.a.createElement("div",null,n.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("button",{type:"button",onClick:function(){m.remove(m.listeners[t])}},"remove"),e)}))),c.a.createElement("div",null,c.a.createElement("button",{type:"button",onClick:function(){return m.removeAll()}},"removeAll")))},b=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],u=Object(a.useState)(0),d=Object(i.a)(u,2),b=d[0],m=d[1],p=s(),f=Object(a.useCallback)((function(e){m((function(t){var n=t+1;return l((function(a){return[].concat(Object(r.a)(a),["dispatched: ".concat(e,", changed :").concat(t," => ").concat(n)])})),t+1}))}),[]),v=function(e,t){var n=Object(a.useMemo)((function(){return new o.SignalListener(e,t)}),[]);return{dispose:Object(a.useCallback)((function(){return n.dispose()}),[n]),listener:n}}(p,f);return c.a.createElement("div",null,c.a.createElement("div",null,b,c.a.createElement("button",{type:"button",onClick:function(){l([]),p.dispatch(b)}},"dispatch")),c.a.createElement("div",null,p.listeners.length,c.a.createElement("button",{type:"button",onClick:function(){console.log("Dispose"),v.dispose()}},"dispose")),c.a.createElement("div",null,n.map((function(e,t){return c.a.createElement("div",{key:t},e)}))))},m=function(){return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h3",null,"UseSignalExample"),c.a.createElement(d,null)),c.a.createElement("div",null,c.a.createElement("h3",null,"UseListenerExample"),c.a.createElement(b,null)))};u.a.render(c.a.createElement(m,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(16)},9:function(e,t,n){}},[[8,1,2]]]);
//# sourceMappingURL=main.38014d2f.chunk.js.map