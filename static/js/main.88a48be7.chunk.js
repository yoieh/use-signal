(this["webpackJsonpuse-signal-example"]=this["webpackJsonpuse-signal-example"]||[]).push([[0],{15:function(e,t,n){"use strict";n.r(t);n(9);var a=n(0),l=n.n(a),i=n(7),r=n.n(i),c=n(5),o=n(1),u=n(3),s=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(0),s=Object(o.a)(r,2),d=s[0],f=s[1],p=Object(u.b)(),b=Object(a.useCallback)((function(e){f((function(t){var n=t+1;return i((function(a){return[].concat(Object(c.a)(a),["dispatched: ".concat(e,", changed :").concat(t," => ").concat(n)])})),t+1}))}),[]);return Object(a.useEffect)((function(){p.add(b)}),[]),l.a.createElement("div",null,l.a.createElement("div",null,d,l.a.createElement("button",{type:"button",onClick:function(){i([]),p.dispatch(d)}},"dispatch")),l.a.createElement("div",null,p.listeners.length,l.a.createElement("button",{type:"button",onClick:function(){console.log("Add"),p.add(b)}},"add")),l.a.createElement("div",null,n.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("button",{type:"button",onClick:function(){p.remove(p.listeners[t])}},"remove"),e)}))),l.a.createElement("div",null,l.a.createElement("button",{type:"button",onClick:function(){return p.removeAll()}},"removeAll")))},d=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(0),s=Object(o.a)(r,2),d=s[0],f=s[1],p=Object(u.b)(),b=Object(a.useCallback)((function(e){f((function(t){var n=t+1;return i((function(a){return[].concat(Object(c.a)(a),["dispatched: ".concat(e,", changed :").concat(t," => ").concat(n)])})),t+1}))}),[]),m=Object(u.a)(p,b);return l.a.createElement("div",null,l.a.createElement("div",null,d,l.a.createElement("button",{type:"button",onClick:function(){i([]),p.dispatch(d)}},"dispatch")),l.a.createElement("div",null,p.listeners.length,l.a.createElement("button",{type:"button",onClick:function(){console.log("Dispose"),m.dispose()}},"dispose")),l.a.createElement("div",null,n.map((function(e,t){return l.a.createElement("div",{key:t},e)}))))},f=function(){return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h3",null,"UseSignalExample"),l.a.createElement(s,null)),l.a.createElement("div",null,l.a.createElement("h3",null,"UseListenerExample"),l.a.createElement(d,null)))};r.a.render(l.a.createElement(f,null),document.getElementById("root"))},3:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var a=n(0),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var c=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Signal=void 0;var n=function(){function e(){this.listeners=[]}return e.prototype.add=function(e){this.listeners.push(e)},e.prototype.remove=function(e){this.listeners=this.listeners.filter((function(t){return t!==e}))},e.prototype.removeAll=function(){this.listeners=[]},e.prototype.dispatch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.listeners.forEach((function(t){t.apply(void 0,e)}))},e}();t.Signal=n,t.default=n}));i(c);var o=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SignalListener=void 0;var n=function(){function e(e,t){this.signal=e,this.listener=t,this.signal.add(this.listener)}return e.prototype.dispose=function(){this.signal.remove(this.listener)},e}();t.SignalListener=n,t.default=n}));i(o);var u=r((function(e,t){var n=l&&l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SignalListener=t.Signal=void 0,Object.defineProperty(t,"Signal",{enumerable:!0,get:function(){return n(c).default}}),Object.defineProperty(t,"SignalListener",{enumerable:!0,get:function(){return n(o).default}})}));i(u);var s=u.SignalListener,d=u.Signal;function f(){var e=Object(a.useState)(new d),t=e[0],n=e[1],l=Object(a.useState)(t.listeners),i=l[0],r=l[1];return{dispatch:Object(a.useCallback)(t.dispatch,[t]),add:Object(a.useCallback)((function(e){t.add(e),n(t),r(t.listeners)}),[t]),remove:Object(a.useCallback)((function(e){t.remove(e),n(t),r(t.listeners)}),[t]),removeAll:Object(a.useCallback)((function(){t.removeAll(),n(t),r(t.listeners)}),[t]),listeners:i}}function p(e,t){var n=Object(a.useMemo)((function(){return new s(e,t)}),[]);return{dispose:Object(a.useCallback)((function(){return n.dispose()}),[n]),listener:n}}}).call(this,n(14))},8:function(e,t,n){e.exports=n(15)},9:function(e,t,n){}},[[8,1,2]]]);
//# sourceMappingURL=main.88a48be7.chunk.js.map